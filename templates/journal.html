<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8" />
    <title>GÃ¼nlÃ¼k Yaz - Emotery</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/static/css/styles.css" />
</head>
<body>
<div class="container journal-page-container">
    <div class="dashboard-box text-center journal-box">
        <img src="/static/pics/logoAI.png" alt="Emotery Logo" style="width:150px; height:auto;" class="mb-3 logo-small">

        <h2>Merhaba {{ username }} ğŸ‘‹</h2>
        <p class="subtitle">BugÃ¼n nasÄ±l hissettin? DÃ¼ÅŸÃ¼ncelerini buraya yaz.</p>

        <p class="text-success" id="message">{{ message }}</p>

        <div class="form-tabs mb-3">
            <button class="btn btn-primary active" id="textInputTab">ğŸ“ YazÄ±lÄ± GÃ¼nlÃ¼k</button>
            <button class="btn btn-secondary" id="voiceInputTab">ğŸ¤ Sesli GÃ¼nlÃ¼k</button>
        </div>

        <form id="diaryForm" action="/diary" method="POST">
            <input type="hidden" name="user_id" value="{{ user_id }}">
            <input type="hidden" name="username" value="{{ username }}">

            <!-- YazÄ±lÄ± GÃ¼nlÃ¼k AlanÄ± -->
            <div class="form-group" id="textInputArea">
                <label for="content" class="form-label">ğŸ“ BugÃ¼n neler hissettiniz?</label>
                <textarea
                    id="content"
                    name="content"
                    class="diary-textarea form-control"
                    rows="8"
                    placeholder="BugÃ¼n yaÅŸadÄ±ÄŸÄ±nÄ±z deneyimleri, hissettiklerinizi, dÃ¼ÅŸÃ¼ncelerinizi detaylÄ± bir ÅŸekilde yazÄ±n. Ã–rneÄŸin:

â€¢ Sabah nasÄ±l uyandÄ±nÄ±z?
â€¢ GÃ¼n iÃ§inde hangi olaylar sizi etkiledi?
â€¢ Hangi duygular aÄŸÄ±r bastÄ±?
â€¢ Neler sizi mutlu etti veya Ã¼zdÃ¼?
â€¢ Gelecek hakkÄ±nda neler dÃ¼ÅŸÃ¼nÃ¼yorsunuz?

Kendinizi ifade etmekten Ã§ekinmeyin, burada gÃ¼vendesiniz."
                    required
                ></textarea>
            </div>

            <!-- Sesli GÃ¼nlÃ¼k AlanÄ± -->
            <div class="mb-3" id="voiceInputArea" style="display: none;">
                <p>Mikrofon butonuna basarak konuÅŸmaya baÅŸlayÄ±n:</p>
                <button type="button" id="micButton" class="btn btn-info">ğŸ¤ Sesli GÃ¼nlÃ¼k BaÅŸlat</button>
                <p class="mt-2" id="voiceStatus" style="font-style: italic;"></p>

                <div id="liveTranscript" class="mt-2 p-2 border rounded" style="min-height: 60px; background-color: #f9f9f9;">
                    <em>KonuÅŸtuÄŸun metin burada gÃ¶rÃ¼necek...</em>
                </div>
            </div>

            <button type="submit" class="btn btn-emotery" id="saveDiaryButton">
                âœ¨ DuygularÄ±mÄ± Analiz Et
                <span class="loading-spinner" id="loadingSpinner"></span>
            </button>
        </form>

        <!-- HÄ±zlÄ± Ä°puÃ§larÄ± -->
        <div class="quick-tips-container">
            <div class="tips-title" onclick="toggleTips()">
                ğŸ’¡ Daha Ä°yi Analiz Ä°Ã§in Ä°puÃ§larÄ± <span id="tipToggleIcon">â–¼</span>
            </div>
            <div class="quick-tips-content" id="quickTipsContent" style="display: none;">
                <div class="tip-item"><strong>DetaylÄ± olun:</strong> Ne kadar Ã§ok detay verirseniz, analiz o kadar doÄŸru olur.</div>
                <div class="tip-item"><strong>DuygularÄ±nÄ±zÄ± adlandÄ±rÄ±n:</strong> "Mutlu", "Ã¼zgÃ¼n", "endiÅŸeli" gibi duygu kelimelerini kullanÄ±n.</div>
                <div class="tip-item"><strong>Sebepleri aÃ§Ä±klayÄ±n:</strong> Neden bÃ¶yle hissettiÄŸinizi yazÄ±n.</div>
                <div class="tip-item"><strong>DÃ¼rÃ¼st olun:</strong> GerÃ§ek duygularÄ±nÄ±zÄ± saklamayÄ±n, burada gÃ¼vendesiniz.</div>
            </div>
        </div>

        <div id="result" class="mt-3"></div>

        <div class="mt-3">
            <a href="/dashboard" class="btn btn-link text-secondary btn-back-home">
                â† Ana Sayfaya DÃ¶n
            </a>
        </div>
    </div>
</div>
</body>

<script src="/static/js/diary_form.js"></script>
</html>
